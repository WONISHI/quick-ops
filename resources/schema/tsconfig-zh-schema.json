{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TypeScript Config (全量中文版)",
  "description": "TypeScript 编译配置文件",
  "type": "object",
  "properties": {
    "extends": {
      "type": "string",
      "description": "指定要继承的配置文件的路径 (例如: './configs/base.json')"
    },
    "files": {
      "type": "array",
      "description": "如果未指定 'include'，则默认为包含目录中的所有文件。如果指定了 'files'，则仅编译列出的文件。",
      "items": {
        "type": "string"
      }
    },
    "include": {
      "type": "array",
      "description": "指定包含在编译中的文件 glob 模式列表 (例如: 'src/**/*')",
      "items": {
        "type": "string"
      }
    },
    "exclude": {
      "type": "array",
      "description": "指定排除在编译之外的文件 glob 模式列表 (默认排除 node_modules)",
      "items": {
        "type": "string"
      }
    },
    "references": {
      "type": "array",
      "description": "引用的项目 (用于项目引用 Project References)",
      "items": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "引用的 tsconfig.json 文件路径或包含该文件的目录"
          },
          "prepend": {
            "type": "boolean",
            "description": "是否将引用项目的输出前置到当前项目的输出文件中 (仅适用于 outFile)"
          }
        }
      }
    },
    "compileOnSave": {
      "type": "boolean",
      "description": "启用后，IDE 会在保存文件时自动编译 (需编辑器支持)"
    },
    "compilerOptions": {
      "type": "object",
      "description": "编译选项配置",
      "properties": {
        "/* 基础选项 (Basic Options) */": {},
        "target": {
          "type": "string",
          "description": "指定 ECMAScript 目标版本",
          "enum": ["ES3", "ES5", "ES6", "ES2015", "ES2016", "ES2017", "ES2018", "ES2019", "ES2020", "ES2021", "ES2022", "ESNext"],
          "default": "ESNext"
        },
        "module": {
          "type": "string",
          "description": "指定生成模块代码的格式",
          "enum": ["None", "CommonJS", "AMD", "System", "UMD", "ES6", "ES2015", "ES2020", "ES2022", "ESNext", "Node16", "NodeNext"]
        },
        "lib": {
          "type": "array",
          "description": "指定要包含在编译中的库文件列表 (例如: ['DOM', 'ESNext'])",
          "items": {
            "type": "string"
          }
        },
        "allowJs": {
          "type": "boolean",
          "description": "允许编译 JavaScript 文件",
          "default": false
        },
        "checkJs": {
          "type": "boolean",
          "description": "报告 .js 文件中的错误",
          "default": false
        },
        "jsx": {
          "type": "string",
          "description": "指定 JSX 代码生成方式",
          "enum": ["preserve", "react", "react-native", "react-jsx", "react-jsxdev"]
        },
        "declaration": {
          "type": "boolean",
          "description": "生成相应的 .d.ts 声明文件",
          "default": false
        },
        "declarationMap": {
          "type": "boolean",
          "description": "为 .d.ts 文件生成 source map",
          "default": false
        },
        "sourceMap": {
          "type": "boolean",
          "description": "生成相应的 .map sourcemap 文件",
          "default": false
        },
        "outFile": {
          "type": "string",
          "description": "将输出文件合并为一个文件 (仅限于 'amd' 或 'system' 模块)"
        },
        "outDir": {
          "type": "string",
          "description": "将输出结构重定向到目录"
        },
        "rootDir": {
          "type": "string",
          "description": "指定输入文件的根目录，用于控制输出目录结构"
        },
        "composite": {
          "type": "boolean",
          "description": "启用项目引用 (Project References) 所需的增量编译",
          "default": false
        },
        "tsBuildInfoFile": {
          "type": "string",
          "description": "指定增量编译信息文件的存储路径"
        },
        "removeComments": {
          "type": "boolean",
          "description": "编译时移除注释",
          "default": false
        },
        "noEmit": {
          "type": "boolean",
          "description": "不生成输出文件 (只进行类型检查)",
          "default": false
        },
        "importHelpers": {
          "type": "boolean",
          "description": "从 'tslib' 导入辅助函数，而不是为每个文件生成",
          "default": false
        },
        "downlevelIteration": {
          "type": "boolean",
          "description": "当目标为 ES5 或 ES3 时，提供对 iterables 的完全支持 (如 'for-of', spread)",
          "default": false
        },
        "isolatedModules": {
          "type": "boolean",
          "description": "将每个文件作为单独的模块进行转译 (类似 babel-loader)",
          "default": false
        },

        "/* 严格类型检查 (Strict Type-Checking Options) */": {},
        "strict": {
          "type": "boolean",
          "description": "启用所有严格类型检查选项 (建议开启)",
          "default": false
        },
        "noImplicitAny": {
          "type": "boolean",
          "description": "对隐含 'any' 类型的表达式和声明报错",
          "default": false
        },
        "strictNullChecks": {
          "type": "boolean",
          "description": "启用严格的 null 检查 (null 和 undefined 不能赋值给其他类型)",
          "default": false
        },
        "strictFunctionTypes": {
          "type": "boolean",
          "description": "启用函数参数的双向协变检查",
          "default": false
        },
        "strictBindCallApply": {
          "type": "boolean",
          "description": "对 bind, call, apply启用严格检查",
          "default": false
        },
        "strictPropertyInitialization": {
          "type": "boolean",
          "description": "确保类属性在构造函数中被初始化",
          "default": false
        },
        "noImplicitThis": {
          "type": "boolean",
          "description": "当 'this' 表达式隐含为 'any' 类型时报错",
          "default": false
        },
        "alwaysStrict": {
          "type": "boolean",
          "description": "以严格模式解析并为每个源文件生成 'use strict'",
          "default": false
        },

        "/* 额外检查 (Additional Checks) */": {},
        "noUnusedLocals": {
          "type": "boolean",
          "description": "若有未使用的局部变量则报错",
          "default": false
        },
        "noUnusedParameters": {
          "type": "boolean",
          "description": "若有未使用的函数参数则报错",
          "default": false
        },
        "noImplicitReturns": {
          "type": "boolean",
          "description": "若函数并非所有代码路径都有返回值则报错",
          "default": false
        },
        "noFallthroughCasesInSwitch": {
          "type": "boolean",
          "description": "报告 switch 语句中的 fallthrough 错误 (case 穿透)",
          "default": false
        },

        "/* 模块解析 (Module Resolution Options) */": {},
        "moduleResolution": {
          "type": "string",
          "description": "决定如何解析模块",
          "enum": ["node", "classic", "node16", "nodenext", "bundler"],
          "default": "node"
        },
        "baseUrl": {
          "type": "string",
          "description": "用于解析非绝对模块名称的基目录"
        },
        "paths": {
          "type": "object",
          "description": "模块名到基于 baseUrl 的路径映射列表 (路径别名)",
          "additionalProperties": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "rootDirs": {
          "type": "array",
          "description": "将多个目录视为一个合并的根目录",
          "items": { "type": "string" }
        },
        "typeRoots": {
          "type": "array",
          "description": "包含类型声明文件的目录列表 (默认包含 node_modules/@types)",
          "items": { "type": "string" }
        },
        "types": {
          "type": "array",
          "description": "指定需要包含的类型声明包 (例如 ['node', 'jest'])",
          "items": { "type": "string" }
        },
        "allowSyntheticDefaultImports": {
          "type": "boolean",
          "description": "允许从没有默认导出的模块中默认导入 (仅用于类型检查)",
          "default": false
        },
        "esModuleInterop": {
          "type": "boolean",
          "description": "通过为所有导入创建命名空间对象，实现 CommonJS 和 ES 模块之间的互操作性 (建议开启)",
          "default": false
        },
        "preserveSymlinks": {
          "type": "boolean",
          "description": "不解析符号链接的真实路径",
          "default": false
        },
        "allowUmdGlobalAccess": {
          "type": "boolean",
          "description": "允许在模块中访问 UMD 全局变量",
          "default": false
        },
        "resolveJsonModule": {
          "type": "boolean",
          "description": "允许导入 .json 文件",
          "default": false
        },

        "/* Source Map 选项 */": {},
        "sourceRoot": {
          "type": "string",
          "description": "指定调试器查找 TypeScript 文件而不是源位置的根路径"
        },
        "mapRoot": {
          "type": "string",
          "description": "指定调试器查找映射文件的地方"
        },
        "inlineSourceMap": {
          "type": "boolean",
          "description": "生成单个 sourcemaps 文件，而不是将 sourcemaps 生成为单独的文件",
          "default": false
        },
        "inlineSources": {
          "type": "boolean",
          "description": "将代码与 sourcemaps 生成到一个文件中",
          "default": false
        },

        "/* 实验性选项 (Experimental Options) */": {},
        "experimentalDecorators": {
          "type": "boolean",
          "description": "启用对 ES7 装饰器的实验性支持",
          "default": false
        },
        "emitDecoratorMetadata": {
          "type": "boolean",
          "description": "启用对装饰器的实验性元数据支持",
          "default": false
        },

        "/* 高级选项 (Advanced Options) */": {},
        "skipLibCheck": {
          "type": "boolean",
          "description": "跳过所有声明文件 (*.d.ts) 的类型检查 (能显著提高编译速度)",
          "default": false
        },
        "forceConsistentCasingInFileNames": {
          "type": "boolean",
          "description": "禁止对同一文件的大小写不一致的引用",
          "default": false
        },
        "verbatimModuleSyntax": {
          "type": "boolean",
          "description": "不执行任何模块语法的转换或省略，保留原样 (TS 5.0+)",
          "default": false
        }
      }
    },
    "watchOptions": {
      "type": "object",
      "description": "监听模式配置 (Watch Options)",
      "properties": {
        "watchFile": {
          "type": "string",
          "description": "单个文件的监听策略",
          "enum": ["fixedPollingInterval", "priorityPollingInterval", "dynamicPriorityPolling", "useFsEvents", "useFsEventsOnParentDirectory"]
        },
        "watchDirectory": {
          "type": "string",
          "description": "目录的监听策略",
          "enum": ["useFsEvents", "fixedPollingInterval", "dynamicPriorityPolling"]
        },
        "fallbackPolling": {
          "type": "string",
          "description": "当文件系统事件不可用时的回退策略",
          "enum": ["fixedPollingInterval", "priorityPollingInterval", "dynamicPriorityPolling"]
        },
        "synchronousWatchDirectory": {
          "type": "boolean",
          "description": "是否同步调用回调函数 (默认 false)",
          "default": false
        },
        "excludeDirectories": {
          "type": "array",
          "description": "排除监听的目录列表",
          "items": { "type": "string" }
        },
        "excludeFiles": {
          "type": "array",
          "description": "排除监听的文件列表",
          "items": { "type": "string" }
        }
      }
    }
  }
}
